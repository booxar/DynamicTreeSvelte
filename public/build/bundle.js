var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode&&t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function a(){return f("")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e,n){t.classList[n?"add":"remove"](e)}let $;function m(t){$=t}function b(){if(!$)throw new Error("Function called outside component initialization");return $}const k=[],y=[];let v=[];const N=[],x=Promise.resolve();let E=!1;function w(t){v.push(t)}function _(t){N.push(t)}const C=new Set;let A=0;function T(){if(0!==A)return;const t=$;do{try{for(;A<k.length;){const t=k[A];A++,m(t),S(t.$$)}}catch(t){throw k.length=0,A=0,t}for(m(null),k.length=0,A=0;y.length;)y.pop()();for(let t=0;t<v.length;t+=1){const e=v[t];C.has(e)||(C.add(e),e())}v.length=0}while(k.length);for(;N.length;)N.pop()();E=!1,C.clear(),m(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(w)}}const M=new Set;let D;function j(){D={r:0,c:[],p:D}}function L(){D.r||o(D.c),D=D.p}function O(t,e){t&&t.i&&(M.delete(t),t.i(e))}function B(t,e,n,o){if(t&&t.o){if(M.has(t))return;M.add(t),D.c.push((()=>{M.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}else o&&o()}function I(t,e){const n=e.token={};function o(t,o,r,c){if(e.token!==n)return;e.resolved=c;let l=e.ctx;void 0!==r&&(l=l.slice(),l[r]=c);const u=t&&(e.current=t)(l);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(j(),B(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),L())})):e.block.d(1),u.c(),O(u,1),u.m(e.mount(),e.anchor),i=!0),e.block=u,e.blocks&&(e.blocks[o]=u),i&&T()}if(!(r=t)||"object"!=typeof r&&"function"!=typeof r||"function"!=typeof r.then){if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}else{const n=b();if(t.then((t=>{m(n),o(e.then,1,e.value,t),m(null)}),(t=>{if(m(n),o(e.catch,2,e.error,t),m(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}var r}function R(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function q(t){t&&t.c()}function z(t,n,c,l){const{fragment:u,after_update:i}=t.$$;u&&u.m(n,c),l||w((()=>{const n=t.$$.on_mount.map(e).filter(r);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),i.forEach(w)}function F(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];v.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),v=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(k.push(t),E||(E=!0,x.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function U(e,r,c,l,u,s,f,d=[-1]){const a=$;m(e);const h=e.$$={fragment:null,ctx:[],props:s,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(a?a.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:r.target||a.$$.root};f&&f(h.root);let p=!1;if(h.ctx=c?c(e,r.props||{},((t,n,...o)=>{const r=o.length?o[0]:n;return h.ctx&&u(h.ctx[t],h.ctx[t]=r)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](r),p&&P(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!l&&l(h.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);h.fragment&&h.fragment.l(t),t.forEach(i)}else h.fragment&&h.fragment.c();r.intro&&O(e.$$.fragment),z(e,r.target,r.anchor,r.customElement),T()}m(a)}class G{$destroy(){F(this,1),this.$destroy=t}$on(e,n){if(!r(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function H(t,e,n){const o=t.slice();return o[15]=e[n],o}function J(e){return{c:t,m:t,p:t,i:t,o:t,d:t}}function K(t){let e,n,o,r,c;const f=[V,Q],d=[];return o=function(t,e){return t[7]?0:1}(t),r=d[o]=f[o](t),{c(){e=s("ul"),n=s("li"),r.c(),p(e,"class","svelte-195weo7")},m(t,r){u(t,e,r),l(e,n),d[o].m(n,null),c=!0},p(t,e){r.p(t,e)},i(t){c||(O(r),c=!0)},o(t){B(r),c=!1},d(t){t&&i(e),d[o].d()}}}function Q(e){let n,o,r,c,d,a;return{c(){n=s("span"),o=s("span"),r=f("▶\r\n\t\t\t\t\t"),c=f(e[6]),p(o,"class","arrow svelte-195weo7")},m(t,i){u(t,n,i),l(n,o),l(n,r),l(n,c),d||(a=h(n,"click",e[14]),d=!0)},p:t,i:t,o:t,d(t){t&&i(n),d=!1,a()}}}function V(t){let e,n,o,r,c,f,$,m;function b(t,e){return t[0]&&"true"===t[0].leaf&&t[0].NAME===t[6]?X:W}let k=b(t),y=k(t),v=t[4]&&Z(t);return{c(){e=s("span"),n=s("span"),n.textContent="▶",o=d(),y.c(),r=d(),v&&v.c(),c=a(),p(n,"class","arrow svelte-195weo7"),g(n,"arrowDown",t[5])},m(i,s){u(i,e,s),l(e,n),l(e,o),y.m(e,null),u(i,r,s),v&&v.m(i,s),u(i,c,s),f=!0,$||(m=h(e,"click",t[10]),$=!0)},p(t,o){(!f||32&o)&&g(n,"arrowDown",t[5]),k===(k=b(t))&&y?y.p(t,o):(y.d(1),y=k(t),y&&(y.c(),y.m(e,null))),t[4]?v?(v.p(t,o),16&o&&O(v,1)):(v=Z(t),v.c(),O(v,1),v.m(c.parentNode,c)):v&&(j(),B(v,1,1,(()=>{v=null})),L())},i(t){f||(O(v),f=!0)},o(t){B(v),f=!1},d(t){t&&i(e),y.d(),t&&i(r),v&&v.d(t),t&&i(c),$=!1,m()}}}function W(e){let n;return{c(){n=f(e[6])},m(t,e){u(t,n,e)},p:t,d(t){t&&i(n)}}}function X(t){let e,n,o,r=t[4]&&Y(t);return{c(){e=f(t[6]),n=d(),r&&r.c(),o=a()},m(t,c){u(t,e,c),u(t,n,c),r&&r.m(t,c),u(t,o,c)},p(t,e){t[4]?r?r.p(t,e):(r=Y(t),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(t){t&&i(e),t&&i(n),r&&r.d(t),t&&i(o)}}}function Y(e){let n,o,r,c;return{c(){n=s("div"),o=s("button"),o.textContent="select"},m(t,i){u(t,n,i),l(n,o),r||(c=h(o,"click",e[9]),r=!0)},p:t,d(t){t&&i(n),r=!1,c()}}}function Z(t){let e,n,o=t[7],r=[];for(let e=0;e<o.length;e+=1)r[e]=tt(H(t,o,e));const c=t=>B(r[t],1,1,(()=>{r[t]=null}));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=a()},m(t,o){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,o);u(t,e,o),n=!0},p(t,n){if(139&n){let l;for(o=t[7],l=0;l<o.length;l+=1){const c=H(t,o,l);r[l]?(r[l].p(c,n),O(r[l],1)):(r[l]=tt(c),r[l].c(),O(r[l],1),r[l].m(e.parentNode,e))}for(j(),l=o.length;l<r.length;l+=1)c(l);L()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)O(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)B(r[t]);n=!1},d(t){!function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t),t&&i(e)}}}function tt(t){let e,n,o,r;function c(e){t[12](e)}function l(e){t[13](e)}let u={tree:t[15],getSubTree:t[11]};return void 0!==t[0]&&(u.treeNodeClicked=t[0]),void 0!==t[1]&&(u.loading=t[1]),e=new ct({props:u}),y.push((()=>R(e,"treeNodeClicked",c))),y.push((()=>R(e,"loading",l))),{c(){q(e.$$.fragment)},m(t,n){z(e,t,n),r=!0},p(t,r){const c={};8&r&&(c.getSubTree=t[11]),!n&&1&r&&(n=!0,c.treeNodeClicked=t[0],_((()=>n=!1))),!o&&2&r&&(o=!0,c.loading=t[1],_((()=>o=!1))),e.$set(c)},i(t){r||(O(e.$$.fragment,t),r=!0)},o(t){B(e.$$.fragment,t),r=!1},d(t){F(e,t)}}}function et(e){let n;return{c(){n=s("p"),n.textContent="Loading..."},m(t,e){u(t,n,e)},p:t,i:t,o:t,d(t){t&&i(n)}}}function nt(t){let e,n,o,r={ctx:t,current:null,token:null,hasCatch:!1,pending:et,then:K,catch:J,blocks:[,,,]};return I(n=t[1],r),{c(){e=a(),r.block.c()},m(t,n){u(t,e,n),r.block.m(t,r.anchor=n),r.mount=()=>e.parentNode,r.anchor=e,o=!0},p(e,[o]){t=e,r.ctx=t,2&o&&n!==(n=t[1])&&I(n,r)||function(t,e,n){const o=e.slice(),{resolved:r}=t;t.current===t.then&&(o[t.value]=r),t.current===t.catch&&(o[t.error]=r),t.block.p(o,n)}(r,t,o)},i(t){o||(O(r.block),o=!0)},o(t){for(let t=0;t<3;t+=1){B(r.blocks[t])}o=!1},d(t){t&&i(e),r.block.d(t),r.token=null,r=null}}}const ot={};function rt(t,e,n){let o,{tree:r}=e,{treeNodeClicked:c}=e,{loading:l=0}=e,{getSubTree:u=(()=>{})}=e;const i=r.NAME,s=r.children;let f=ot[i]||!1;const d=t=>{1==t&&(console.log(i,"Before calling subTree"),n(1,l=u(i)),console.log(i,"After calling subTree")),n(4,f=ot[i]=!f),console.log(f,"expand")};return t.$$set=t=>{"tree"in t&&n(2,r=t.tree),"treeNodeClicked"in t&&n(0,c=t.treeNodeClicked),"loading"in t&&n(1,l=t.loading),"getSubTree"in t&&n(3,u=t.getSubTree)},t.$$.update=()=>{16&t.$$.dirty&&n(5,o=f)},[c,l,r,u,f,o,i,s,d,()=>{alert(c.NAME)},()=>{d(!1),n(0,c=r)},t=>u(t),function(t){c=t,n(0,c)},function(t){l=t,n(1,l)},()=>{d(!0),n(0,c=r)}]}class ct extends G{constructor(t){super(),U(this,t,rt,nt,c,{tree:2,treeNodeClicked:0,loading:1,getSubTree:3})}}function lt(t){let e,n,o;function r(e){t[5](e)}let c={tree:t[1],getSubTree:t[4]};return void 0!==t[0]&&(c.treeNodeClicked=t[0]),e=new ct({props:c}),y.push((()=>R(e,"treeNodeClicked",r))),{c(){q(e.$$.fragment)},m(t,n){z(e,t,n),o=!0},p(t,[o]){const r={};!n&&1&o&&(n=!0,r.treeNodeClicked=t[0],_((()=>n=!1))),e.$set(r)},i(t){o||(O(e.$$.fragment,t),o=!0)},o(t){B(e.$$.fragment,t),o=!1},d(t){F(e,t)}}}function ut(t,e,n){let o,r,c=[],l=[],u={NAME:"Dogs",children:[]};async function i(t){let e;e=""==t?"https://dog.ceo/api/breeds/list":`https://dog.ceo/api/breed/${t}/list`,console.log(e,"URL"),await fetch(e).then((t=>t.json())).then((e=>(o=function(t,e){if("error"==e)return[];let n=[];for(let e=0;e<t.length;e++){let o={};o.NAME=t[e],n[e]=o}return n}(e.message,e.status),console.log(o,"fetchedData"),""==t?n(3,c=o):(f(c,o,t),console.log(u,"TREE"),console.log(c,"NAMES")),1))).catch((t=>(console.log(t),[])))}var s;function f(t,e,n){0!=t.length&&(console.log("array",t),console.log("fetchedData",e),console.log("breed",n),t.forEach((t=>{if(t.children&&t.children.length>0&&(console.log("val",t),f(t.children,e,n)),t.NAME!==n);else if(t.children&&t.children.length>0){let n=[...t.children,...e];t.leaf=0==e.length?"true":"false",t.children=function(t){return l=t.reduce(((t,e)=>t.find((t=>t.ID===e.ID))?t:t.concat([e])),[]),l}(n)}else t.leaf=0==e.length?"true":"false",t.children=e})))}s=()=>{i("")},b().$$.on_mount.push(s);return t.$$.update=()=>{8&t.$$.dirty&&function(t,e){for(let n=0;n<e.length;n++)t.children[n]=e[n]}(u,c),1&t.$$.dirty&&console.log(r,"treeNodeClicked"),1&t.$$.dirty&&r&&r.NAME&&console.log(r.leaf,"leafNode")},[r,u,i,c,t=>i(t),function(t){r=t,n(0,r)}]}class it extends G{constructor(t){super(),U(this,t,ut,lt,c,{})}}function st(e){let n,o,r;return o=new it({}),{c(){n=s("main"),q(o.$$.fragment),p(n,"class","svelte-1tky8bj")},m(t,e){u(t,n,e),z(o,n,null),r=!0},p:t,i(t){r||(O(o.$$.fragment,t),r=!0)},o(t){B(o.$$.fragment,t),r=!1},d(t){t&&i(n),F(o)}}}return new class extends G{constructor(t){super(),U(this,t,null,st,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
